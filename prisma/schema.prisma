generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Competition {
  id        Int       @id
  city      String    @default("")
  committee String    @default("")
  name      String    @default("")
  poolSize  String    @default("")
  season    String    @default("")
  type      String    @default("")
  startedAt DateTime?
  endedAt   DateTime?

  results Result[]

  @@map("competitions")
}

model Discipline {
  id            Int      @id @default(autoincrement())
  name          String   @unique
  perfUnitType  String
  sortDirection String
  Result        Result[]

  @@map("disciplines")
}

model Result {
  id            String  @id
  competitionId Int
  disciplineId  Int
  place         String?
  lastName      String
  firstName     String
  dateOfBirth   String?
  club          String?
  perfAnnounced String?
  perfAchieved  String?
  faultDisq     String?
  comment       String?
  penality      String?
  perfRetained  String?
  licenseNumber String?
  season        String?

  competition Competition @relation(fields: [competitionId], references: [id])
  discipline  Discipline  @relation(fields: [disciplineId], references: [id])

  @@map("results")
}
